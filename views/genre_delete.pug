extends layout

block content

  h1 #{title}: #{genre.name}

  if genre_books.length
    p.text-danger #[ Delete the following books before attempting to delete this genre.]
    div(style='margin-left:20px;margin-top:20px')
    h5 
      | Books for 
      b #{genre.name} 
      | genre:
      dl
        each book in genre_books
          .mt-4.mb-3.p-2.border.rounded
            dt
            a.text-primary(href=book.url, style='font-size: 20px;')= book.title

     
      
          

  else
    p Do you really want to delete this genre?

    form(method='POST')
      div.form-group
        input#genreid.form-control(type='hidden', name='genreid', value=genre._id )

      button.btn.btn-primary(type='submit') Delete


//- The view extends the layout template, overriding the block named content. At the top it displays the genre details. It then includes a conditional statement based on the number of genre_books (the if and else clauses).




//- If there are books associated with the genre then the page lists the books and states that these must be deleted 
//- before this genre may be deleted.


//- If there are no books then the page displays a confirmation prompt.
//- If the Delete button is clicked then the genre id is sent to the server in a POST request and that genre's record will be deleted.
